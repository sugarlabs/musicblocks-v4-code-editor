!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.codeEditor=t():e.codeEditor=t()}(self,(()=>(()=>{"use strict";var e={189:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(81),i=n.n(r),l=n(645),o=n.n(l)()(i());o.push([e.id,".editor_outer_container{\r\n  position: absolute;\r\n  top:0;\r\n  left:0;\r\n  width: 100%;\r\n  height:100%;\r\n  background-color: #ffffff;\r\n  overflow: hidden;\r\n  \r\n}\r\n.code_editor_sub{\r\n  position: relative;\r\n  top:0;\r\n  left:0;\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: flex-start;\r\n  overflow: scroll;\r\n}\r\n.editor_inner_container{\r\n  position: absolute;\r\n  top:0;\r\n  left:0;\r\n  width:100%;\r\n  height: 100%;\r\n  margin: 0%;\r\n  background-color: #ebebeb;\r\n  color: #ffffff;\r\n  overflow: hidden;\r\n  display: -webkit-box;\r\n  display: -ms-flexbox;\r\n  display: flex;\r\n  -webkit-box-orient: horizontal;\r\n  -webkit-box-direction: normal;\r\n      -ms-flex-direction: row;\r\n          flex-direction: row;\r\n  -webkit-box-pack: start;\r\n      -ms-flex-pack: start;\r\n          justify-content: flex-start;\r\n}\r\n\r\n.code_editor_line_measure{\r\n  position: absolute;\r\n  top:0;\r\n  left:0;\r\n  margin: 1px 1px 1px 34px;\r\n  height: 18.2px;\r\n  visibility: hidden;\r\n}\r\n.code_editor_line_measure p{\r\n  color: rgb(0, 0, 0);\r\n  margin:1px;\r\n  pointer-events: none;\r\n  font-size: 1rem;\r\n  font-family: 'Courier New', Courier, monospace;\r\n  margin: 0;\r\n}\r\n\r\n.code_editor_cursor{\r\n  position: absolute;\r\n  top:0;\r\n  left:35px;\r\n  width: 1px;\r\n  height: 18.2px;\r\n  background-color: transparent;\r\n  overflow: hidden;\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: flex-start;\r\n  align-items: flex-start;\r\n}\r\n.code_editor_cursor_blink{\r\n  position: absolute;\r\n  top:0;\r\n  left:0;\r\n  width: 30px;\r\n  flex-shrink: 0;\r\n  height: 100%;\r\n  background-color: #1b9cfc;\r\n  overflow: hidden;\r\n}\r\n.code_editor_cursor input {\r\n  position: relative;\r\n  top:10px;\r\n  left:0;\r\n  background-color: transparent;\r\n  border: none;\r\n  width: 0;\r\n  padding: 0;\r\n  /* display: none; */\r\n}\r\n\r\n\r\n.code_editor_lines_container{\r\n  position:relative;\r\n  top:0;\r\n  left:0;\r\n  /* margin-left: 24px; */\r\n  display: -webkit-box;\r\n  display: -ms-flexbox;\r\n  display: flex;\r\n  -webkit-box-orient: vertical;\r\n  -webkit-box-direction: normal;\r\n      -ms-flex-direction: column;\r\n          flex-direction: column;\r\n  -webkit-box-pack: start;\r\n      -ms-flex-pack: start;\r\n          justify-content: flex-start;\r\n  -webkit-box-align:start;\r\n      -ms-flex-align:start;\r\n          align-items:flex-start ;\r\n  /* min-width: 100%; */\r\n  width:100%;\r\n}\r\n\r\n.line{\r\n  position: relative;\r\n  left:34px;\r\n  top:0;\r\n  width:100%;\r\n  height:18.2px;\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: flex-start;\r\n  align-items: flex-start;\r\n}\r\n\r\n.text{\r\n  position:relative;\r\n  top:0;\r\n  left:0;\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: flex-start;\r\n  align-items:center;\r\n  height:18.2px;\r\n  color: #000000;\r\n  margin-left: 1px;\r\n}\r\n.text pre{\r\n  position: relative;\r\n  top:0;\r\n  left:0;\r\n  width: 100%;\r\n  font-size: 1rem;\r\n  font-family: 'Courier New', Courier, monospace;\r\n  margin: 0;\r\n  height: 18.2px;\r\n}\r\n\r\n\r\n\r\n\r\n\r\n/* .number_line_container{\r\n  position: sticky;\r\n  top:0;\r\n  left:0;\r\n  width:34px;\r\n  z-index: 1;\r\n  height: fit-content;\r\n  flex-shrink: 0;\r\n  background-color: #1b9cfc;\r\n  display: -webkit-box;\r\n  display: -ms-flexbox;\r\n  display: flex;\r\n  -webkit-box-orient: vertical;\r\n  -webkit-box-direction: normal;\r\n      -ms-flex-direction: column;\r\n          flex-direction: column;\r\n  -webkit-box-pack: start;\r\n      -ms-flex-pack: start;\r\n          justify-content: flex-start;\r\n}\r\n.number_line_container p{\r\n  position: relative ;\r\n  top:0;\r\n  left:0;\r\n  width:100%;\r\n  height:18.2px;\r\n  color: #ffffff;\r\n  margin:0px;\r\n  pointer-events: none;\r\n  font-size: 1rem;\r\n  font-family: 'Courier New', Courier, monospace;\r\n  display: -webkit-box;\r\n  display: -ms-flexbox;\r\n  display: flex;\r\n  -webkit-user-select: none;       \r\n  -moz-user-select: none; \r\n  -ms-user-select: none; \r\n  user-select: none; \r\n  -webkit-box-orient: vertical;\r\n  -webkit-box-direction: normal;\r\n      -ms-flex-direction: column;\r\n          flex-direction: column;\r\n  -webkit-box-pack: center;\r\n      -ms-flex-pack: center;\r\n          justify-content: center;\r\n  -webkit-box-align: center;\r\n      -ms-flex-align: center;\r\n          align-items: center;\r\n} */\r\n\r\n\r\n.number_line_cont{\r\n  position: absolute;\r\n  top:0;\r\n  left:0;\r\n  min-width:100%;\r\n  height: fit-content;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: flex-start;\r\n  align-items: flex-start;\r\n  flex-shrink: 0; \r\n  z-index: 2;\r\n  pointer-events: none;\r\n}\r\n.number_line{\r\n  position: sticky;\r\n  top:0;\r\n  left:0;\r\n  width:34px;\r\n  height:18.2px;\r\n  overflow: hidden;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  transform: translateY(-100%);\r\n  background-color: #1b9cfc;\r\n}\r\n.number_line p{\r\n  position: relative;\r\n  top:0;\r\n  left:0;\r\n  width: 100%;\r\n  height: 100%;\r\n  margin:0;\r\n  padding:0;\r\n  color: #ffffff;\r\n  text-align: center;\r\n}\r\n.background_selected_text{\r\n  background-color: rgb(160, 159, 159);\r\n  color: #000000 !important;\r\n  \r\n}\r\n.background_selected_text span{\r\n  color: #000000 !important;\r\n}\r\n\r\n.code_editor_stausbar_cont{\r\n  height:18.2px;\r\n  width: 100%;\r\n  position: absolute;\r\n  top:100%;\r\n  left: 0%;\r\n  transform: translateY(-100%);\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-around;\r\n  align-items: center;\r\n  background-color: #1b9cfc;\r\n}\r\n\r\n.code_editor_stausbar_left{\r\n  position: relative;\r\n  top:0;\r\n  left:0;\r\n  right: 0;\r\n  width: 50%;\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: flex-start;\r\n  align-items: center;\r\n}\r\n.code_editor_stausbar_right{\r\n  position: relative;\r\n  top:0;\r\n  left:0;\r\n  right: 0;\r\n  width: 50%;\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: flex-end;\r\n  align-items: center;\r\n}\r\n.code_editor_stausbar_left_err{\r\n  position: relative;\r\n  top:0;\r\n  left:0;\r\n  width:50px;\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n.code_editor_stausbar_left_warn{\r\n  position: relative;\r\n  top:0;\r\n  left:0;\r\n  width:50px;\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n.code_editor_stausbar_left_err img{\r\n  position: relative;\r\n  top:0;\r\n  left:0;\r\n  width: 15px;\r\n  margin: 0 5px 0 5px;\r\n}\r\n.code_editor_stausbar_left_err p{\r\n  position: relative;\r\n  top:0;\r\n  left:0;\r\n  font-size: 1rem;\r\n  height: 100%;\r\n  text-align: center;\r\n  margin: 0;\r\n  padding: 0;\r\n  font-family: 'Courier New', Courier, monospace;\r\n}\r\n\r\n.code_editor_stausbar_left_warn img{\r\n  position: relative;\r\n  top:0;\r\n  left:0;\r\n  width: 15px;\r\n  margin: 0 5px 0 5px;\r\n}\r\n.code_editor_stausbar_left_warn p{\r\n  position: relative;\r\n  top:0;\r\n  left:0;\r\n  font-size: 1rem;\r\n  height: 100%;\r\n  text-align: center;\r\n  margin: 0;\r\n  padding: 0;\r\n  font-family: 'Courier New', Courier, monospace;\r\n}\r\n\r\n.code_editor_stausbar_right_line{\r\n  position: relative;\r\n  top:0;\r\n  left:0;\r\n  width:80px;\r\n  height: 100%;\r\n  text-align: center;\r\n  \r\n}\r\n.code_editor_stausbar_right_line p{\r\n  position: relative;\r\n  top:0;\r\n  left:0;\r\n  font-size: 0.8rem;\r\n  height: 100%;\r\n  text-align: center;\r\n  margin: 0;\r\n  padding: 0;\r\n  font-family: 'Courier New', Courier, monospace;\r\n  display: flex;\r\n   flex-direction: row;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.code_editor_stausbar_right_char{\r\n  position: relative;\r\n  top:0;\r\n  left:0;\r\n  width:110px;\r\n  height: 100%;\r\n  text-align: center;\r\n  \r\n}\r\n.code_editor_stausbar_right_char p{\r\n  position: relative;\r\n  top:0;\r\n  left:0;\r\n  font-size: 0.8rem;\r\n  height: 100%;\r\n  text-align: center;\r\n  margin: 0;\r\n  padding: 0;\r\n  font-family: 'Courier New', Courier, monospace;\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.code_editor_code_suggestion_cont{\r\n  position: absolute;\r\n  top:0;\r\n  left:0;\r\n  max-width: 300px;\r\n  min-width: 200px;\r\n  width: 100%;\r\n  max-height: 200px;\r\n  height: fit-content;\r\n  background-color: #ffffff;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-start;\r\n  justify-content: flex-start;\r\n  overflow: hidden;\r\n}\r\n.code_editor_code_suggestion_sub_cont{\r\n  position: relative;\r\n  top: 0;\r\n  left:0;\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: flex-start;\r\n  align-items: flex-start;\r\n  overflow: scroll;\r\n  color: #000000;\r\n}\r\n.code_editor_code_suggestion_sub_cont p{\r\n  margin: 0;\r\n  width: 100%;\r\n  padding: 0;\r\n}\r\n.code_editor_code_suggestion_selected{\r\n  margin: 0;\r\n  padding: 0;\r\n  background-color: #1b9cfc;\r\n  color: #ffffff;\r\n}",""]);const a=o},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,i,l){"string"==typeof e&&(e=[[null,e,void 0]]);var o={};if(r)for(var a=0;a<this.length;a++){var s=this[a][0];null!=s&&(o[s]=!0)}for(var c=0;c<e.length;c++){var d=[].concat(e[c]);r&&o[d[0]]||(void 0!==l&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=l),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),i&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=i):d[4]="".concat(i)),t.push(d))}},t}},81:e=>{e.exports=function(e){return e[1]}},379:e=>{var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var l={},o=[],a=0;a<e.length;a++){var s=e[a],c=r.base?s[0]+r.base:s[0],d=l[c]||0,g="".concat(c," ").concat(d);l[c]=d+1;var u=n(g),p={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==u)t[u].references++,t[u].updater(p);else{var h=i(p,r);r.byIndex=a,t.splice(a,0,{identifier:g,updater:h,references:1})}o.push(g)}return o}function i(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,i){var l=r(e=e||[],i=i||{});return function(e){e=e||[];for(var o=0;o<l.length;o++){var a=n(l[o]);t[a].references--}for(var s=r(e,i),c=0;c<l.length;c++){var d=n(l[c]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}l=s}}},569:e=>{var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,i&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var l=n.sourceMap;l&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(l))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var l=t[r]={id:r,exports:{}};return e[r](l,l.exports,n),l.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");r.length&&(e=r[r.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),n.nc=void 0;var r={};return(()=>{function e(e,t,n,r){const i=document.createElement("div");return t&&0!=t.length&&(i.innerText=t),n&&0!=n.length&&n.forEach((e=>{i.appendChild(e)})),e&&0!=e.length&&e.forEach((e=>{i.classList.add(e)})),r&&(i.style=r),i}function t(e,t,n){const r=document.createElement("p");return t&&0!=t.length&&(r.innerText=t),e&&0!=e.length&&e.forEach((e=>{r.classList.add(e)})),n&&(r.style=n),r}function i(e,t,n,r){const i=document.createElement("img");return e&&0!=e.length&&e.forEach((e=>{i.classList.add(e)})),r&&(i.style=r),t&&(i.src=t),n&&(i.alt=n),i}n.r(r),n.d(r,{default:()=>J});var l=n(379),o=n.n(l),a=n(795),s=n.n(a),c=n(569),d=n.n(c),g=n(565),u=n.n(g),p=n(216),h=n.n(p),m=n(589),x=n.n(m),f=n(189),b={};b.styleTagTransform=x(),b.setAttributes=u(),b.insert=d().bind(null,"head"),b.domAPI=s(),b.insertStyleElement=h(),o()(f.Z,b),f.Z&&f.Z.locals&&f.Z.locals;const y=n.p+"730df6ffebd0b509bd97.png",E=n.p+"8e530861b5f8e46dac6d.png";let C,N=new class{constructor(){this.codeEditor=function(){const n=document.createElement("div");n.id="code-editor-cont",n.classList.add("editor_inner_container");const r=document.createElement("div");r.classList.add("code_editor_line_measure");const l=document.createElement("p");l.innerText="xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",r.appendChild(l);const o=document.createElement("div");o.classList.add("code_editor_cursor");const a=document.createElement("div");a.classList.add("code_editor_cursor_blink"),o.appendChild(a);const s=document.createElement("input");s.autocapitalize="none",s.type="text",s.id="code-editor-cursor-input",o.appendChild(s);const c=document.createElement("div");c.classList.add("number_line_cont");const d=document.createElement("div");d.classList.add("number_line");const g=document.createElement("p");g.innerText="0",d.appendChild(g),c.appendChild(d);const u=document.createElement("div");u.classList.add("number_line");const p=document.createElement("p");p.innerText="1",u.appendChild(p),c.appendChild(u);const h=document.createElement("div");h.classList.add("code_editor_lines_container"),h.tabindex="0";const m=document.createElement("div");m.classList.add("line");const x=document.createElement("div");x.classList.add("text");const f=document.createElement("pre");x.appendChild(f),m.appendChild(x),h.appendChild(m);const b=e(["code_editor_stausbar_left_err"],null,[i(null,y,"error icon",null),t(null,"0",null)],null),C=e(["code_editor_stausbar_left_warn"],null,[i(null,E,"warning icon",null),t(null,"0",null)],null),N=e(["code_editor_stausbar_left"],null,[b,C],null),_=e(["code_editor_stausbar_right_line"],null,[t(null,"Line : 0",null)],null),L=e(["code_editor_stausbar_right_char"],null,[t(null,"Column : 0",null)],null),S=e(["code_editor_stausbar_right"],null,[_,L]),T=e(["code_editor_stausbar_cont"],null,[N,S],null),v=e(["code_editor_sub"],null,[r,o,c,h],null);return n.appendChild(v),n.appendChild(T),n}()}getCodeEditor(){return this.codeEditor}setCodeEditor(e){this.codeEditor=e}},_=N.getCodeEditor(),L=new class{constructor(e){this.codeEditorCont=e,this.lineNumber=1,this.charNumber=0,this.lineHeight=18.2,this.numberLineWidth=35,this.charSize=0,this.lineStart={line:0,char:0},this.lineEnd={line:0,char:0}}getLineNumber(){return this.lineNumber}setLineNumber(e){const t=new Event("lineChangetriggered");return this.lineNumber=e,this.codeEditorCont.dispatchEvent(t),this.lineNumber}getCharNumber(){return this.charNumber}setCharNumber(e){const t=new Event("charChangetriggered");return this.charNumber=e,this.codeEditorCont.dispatchEvent(t),this.charNumber}getLineHeight(){return this.lineHeight}setLineHeight(e){return this.lineHeight=e,this.lineHeight}getCharSize(){return this.charSize}setCharSize(e){return this.charSize=e,this.charSize}getLineStart(){return this.lineStart}setLineStart(e){return this.lineStart=e,this.lineStart}getLineEnd(){return this.lineEnd}setLineEnd(e){return this.lineEnd=e,this.lineEnd}getNumberLineWidth(){return this.numberLineWidth}setNumberLineWidth(e){return this.numberLineWidth=e,this.numberLineWidth}}(_),S=new class{constructor(e){this.codeEditorCont=e,this.drag=!1,this.textSelectionInProgress=!1,this.mouseDown=!1}getDrag(){return this.drag}setDrag(e){return this.drag=e,this.drag}getTextSelectionInProgress(){return this.textSelectionInProgress}setTextSelectionInProgress(e){return this.textSelectionInProgress=e,this.textSelectionInProgress}getMouseDown(){return this.mouseDown}setMouseDown(e){return this.mouseDown=e,this.mouseDown}}(_),T=new class{constructor(){this.undoStore=[],this.redoStore=[],this.errorStore=[],this.warningStore=[]}getUndoStore(){return this.undoStore}setUndoStore(e){return this.undoStore=e,this.undoStore}pushIntoUndoStore(e){this.undoStore.push(e)}popFromUndoStore(){this.undoStore.pop()}shiftUndoStore(){this.undoStore.shift()}getRedoStore(){return this.redoStore}setRedoStore(e){return this.redoStore=e,this.redoStore}pushIntoRedoStore(e){this.redoStore.push(e)}popFromRedoStore(){this.redoStore.pop()}shiftRedoState(){this.redoStore.shift()}getErrorStore(){return this.errorStore}setErrorStore(e){return this.errorStore=e,this.errorStore}pushIntoErrorStore(e){this.errorStore.push(e)}popFromErrorStore(){this.errorStore.pop()}shiftErrorStore(){this.errorStore.shift()}getWarningStore(){return this.warningStore}setWarningStore(e){return this.warningStore=e,this.warningStore}pushIntoWarningStore(e){this.warningStore.push(e)}popFromWarningStore(){this.warningStore.pop()}shiftWarningStore(){this.warningStore.shift()}},v=new class{constructor(){this.codeEditorAutoScrollX=null,this.codeEditorAutoScrollY=null}getCodeEditorAutoScrollX(){return this.codeEditorAutoScrollX}setCodeEditorAutoScrollX(e){return this.codeEditorAutoScrollX=e,this.codeEditorAutoScrollX}clearCodeEditorAutoScrollX(){clearInterval(this.codeEditorAutoScrollX)}getCodeEditorAutoScrollY(){return this.codeEditorAutoScrollY}setCodeEditorAutoScrollY(e){return this.codeEditorAutoScrollY=e,this.codeEditorAutoScrollY}clearCodeEditorAutoScrollY(){clearInterval(this.codeEditorAutoScrollY)}};function w(){let e=L.getLineNumber(),t=L.getCharNumber(),n=L.getCharSize(),r=L.getLineHeight(),i=L.getNumberLineWidth(),l=_.getElementsByClassName("code_editor_sub")[0],o=(e-1)*r,a=t*n+i,s=l.scrollLeft+i,c=l.scrollLeft+l.clientWidth,d=l.scrollTop,g=l.scrollTop+l.clientHeight-r;a>=s&&a>=c?l.scrollLeft=a-l.clientWidth+5:a<=s&&a<=c&&(l.scrollLeft=a-i),o<=d&&o<=g?l.scrollTop=o:o>=d&&o>=g&&(l.scrollTop=o-l.clientHeight+r)}function B(){_.querySelectorAll(".background_selected_text").forEach((e=>{e.classList.remove("background_selected_text")}))}function k(){let e=L.getLineNumber(),t=L.getCharNumber(),n=L.getCharSize(),r=L.getLineHeight(),i=L.getNumberLineWidth(),l=L.getLineStart(),o=L.getLineEnd(),a=_.getElementsByClassName("line"),s=_.getElementsByClassName("code_editor_cursor")[0];if(B(),l.line>o.line){l.line<=0&&(l.line=1),l.char>a[l.line-1].innerText.length&&(l.char=a[l.line-1].innerText.length),o.char<0&&(o.char=0),a[o.line-1].innerText.length>=o.char&&o.char>=0&&(a[o.line-1].childNodes[0].innerHTML="<pre>"+a[o.line-1].innerText.slice(0,o.char)+"<span class='background_selected_text'>"+a[o.line-1].innerText.slice(o.char,a[o.line-1].innerText.length)+"</span></pre>"),a[l.line-1].innerText.length>=l.char?a[l.line-1].childNodes[0].innerHTML="<pre><span class='background_selected_text'>"+a[l.line-1].innerText.slice(0,l.char)+"</span>"+a[l.line-1].innerText.slice(l.char,a[l.line-1].innerText.length)+"</pre>":a[l.line-1].childNodes[0].innerHTML="<pre><span class='background_selected_text'>"+a[l.line-1].innerText+"</span></pre>";for(let e=o.line+1;e<l.line;e++)a[e-1].childNodes[0].childNodes[0].classList.add("background_selected_text");o.line=o.line>a.length?a.length:o.line,o.char=o.char>a[e-1].innerText.length?a[e-1].innerText.length:o.char,e=o.line>a.length?a.length:o.line,t=o.char>a[e-1].innerText.length?a[e-1].innerText.length:o.char,L.setLineNumber(e),L.setCharNumber(t),s.style.left=t*n+i+"px",s.style.top=(e-1)*r+"px"}else if(l.line<o.line){o.line>a.length&&(o.line=a.length),o.char>a[o.line-1].innerText.length&&(o.char=a[o.line-1].innerText.length),l.char<0&&(l.char=0),a[l.line-1].innerText.length>=l.char&&l.char>=0&&(a[l.line-1].childNodes[0].innerHTML="<pre>"+a[l.line-1].innerText.slice(0,l.char)+"<span class='background_selected_text'>"+a[l.line-1].innerText.slice(l.char,a[l.line-1].innerText.length)+"</span></pre>"),a[o.line-1].innerText.length>=o.char?a[o.line-1].childNodes[0].innerHTML="<pre><span class='background_selected_text'>"+a[o.line-1].innerText.slice(0,o.char)+"</span>"+a[o.line-1].innerText.slice(o.char,a[o.line-1].innerText.length)+"</pre>":a[o.line-1].childNodes[0].innerHTML="<pre><span class='background_selected_text'>"+a[o.line-1].innerText+"</span></pre>";for(let e=l.line+1;e<o.line;e++)a[e-1].childNodes[0].childNodes[0].classList.add("background_selected_text");o.line=o.line>a.length?a.length:o.line,o.char=o.char>a[e-1].innerText.length?a[e-1].innerText.length:o.char,e=o.line>a.length?a.length:o.line,t=o.char>a[e-1].innerText.length?a[e-1].innerText.length:o.char,L.setLineNumber(e),L.setCharNumber(t),s.style.left=t*n+i+"px",s.style.top=(e-1)*r+"px"}else if(l.line==o.line){l.line>a.length&&(l.line=a.length,o.line=a.length),o.char<0&&(o.char=0),l.char<0&&(l.char=0);let c=o.char>l.char?l.char:o.char,d=o.char>l.char?o.char:l.char,g=a[o.line-1].childNodes[0].innerText.slice(0,c),u=a[o.line-1].childNodes[0].innerText.slice(c,d),p=a[o.line-1].childNodes[0].innerText.slice(d,a[o.line-1].childNodes[0].innerText.length);a[o.line-1].childNodes[0].innerHTML="<pre>"+g+"<span class='background_selected_text'>"+u+"</span>"+p+"</pre>",o.line=o.line>a.length?a.length:o.line,o.char=o.char>a[e-1].innerText.length?a[e-1].innerText.length:o.char,e=o.line>a.length?a.length:o.line,t=o.char>a[e-1].innerText.length?a[e-1].innerText.length:o.char,L.setLineNumber(e),L.setCharNumber(t),s.style.left=t*n+i+"px",s.style.top=(e-1)*r+"px"}L.setLineEnd(o),L.setLineStart(l),_.querySelector("#code-editor-cursor-input").focus(),w(),S.setTextSelectionInProgress(!0)}function D(e){let t=_.getElementsByClassName("number_line");t[t.length-1].parentNode.removeChild(t[t.length-1]);let n=_.getElementsByClassName("line");n[e-1].parentNode.removeChild(n[e-1])}function I(){let e=L.getLineNumber(),t=L.getCharNumber(),n=L.getLineStart(),r=L.getLineEnd();T.setRedoStore([]);let i=T.getUndoStore(),l=_.getElementsByClassName("code_editor_lines_container")[0],o=_.getElementsByClassName("number_line_cont")[0];i.length>20?(T.shiftUndoStore(),T.pushIntoUndoStore({lineNumber:e,charNumber:t,lineEnd:r,lineStart:n,data:l.innerHTML,numberLineData:o.innerHTML})):T.pushIntoUndoStore({lineNumber:e,charNumber:t,lineEnd:r,lineStart:n,data:l.innerHTML,numberLineData:o.innerHTML})}function H(e){const t=new Event("TextDeselect");let n=L.getCharNumber(),r=L.getCharSize(),i=L.getLineHeight(),l=L.getNumberLineWidth(),o=L.getLineStart(),a=L.getLineEnd(),s=L.getLineNumber();I();let c=_.getElementsByClassName("line"),d=o.line>a.line||o.line==a.line&&o.char>a.char?a:o,g=o.line>a.line||o.line==a.line&&o.char>a.char?o:a;g.line>c.length&&(g.line=c.length),d.line<=0&&(d.line=1),d.char<0&&(d.char=0),g.char>c[g.line-1].innerText.length+1&&(g.char=c[g.line-1].innerText.length+1),c[g.line-1].innerText.length<g.char?g.char=c[g.line-1].innerText.length:d.char<0&&(d.char=0);let u=c[g.line-1].innerText.slice(g.char,c[g.line-1].innerText.length),p=c[d.line-1].innerText.slice(0,d.char),h=document.createElement("pre");h.innerText=p+e+u,c[d.line-1].childNodes[0].innerHTML="",c[d.line-1].childNodes[0].appendChild(h);let m=_.getElementsByClassName("code_editor_cursor")[0];n=d.char>c[d.line-1].childNodes[0].innerText.length?c[d.line-1].childNodes[0].innerText.length:d.char+e.length,s=d.line,L.setCharNumber(n),L.setLineNumber(s),m.style.left=n*r+l+"px",m.style.top=(s-1)*i+"px";let x=g.line-d.line;for(;x>0;)D(d.line+1),x-=1;_.querySelector("#code-editor-cursor-input").focus(),_.dispatchEvent(t),S.setTextSelectionInProgress(!1)}function M(e){const t=_.getElementsByClassName("code_editor_code_suggestion_sub_cont")[0].getElementsByTagName("P");console.log(t);let n=0;for(let e=0;e<t.length;e++)t[e].classList.contains("code_editor_code_suggestion_selected")&&(n=e);t[n].classList.remove("code_editor_code_suggestion_selected"),"up"==e&&(n?t[n-1].classList.add("code_editor_code_suggestion_selected"):t[t.length-1].classList.add("code_editor_code_suggestion_selected")),"down"==e&&(n<t.length-1?t[n+1].classList.add("code_editor_code_suggestion_selected"):t[0].classList.add("code_editor_code_suggestion_selected"))}class P{constructor(){this.codeEditor=N,this.dataVariables=L,this.conditionalVariables=S,this.arrayVariables=T,this.intervalVariables=v}generateCodeEditorDOM(){return this.combineAllActions(),this.codeEditor.getCodeEditor()}combineAllActions(){this.codeEditor.getCodeEditor(),function(){let e,t,n=_.getElementsByClassName("code_editor_lines_container")[0];n.addEventListener("mouseup",(e=>{let t=S.getMouseDown(),r=S.getDrag(),i=L.getCharSize(),l=L.getLineNumber(),o=L.getCharNumber(),a=L.getLineEnd(),s=L.getNumberLineWidth(),c=L.getLineHeight();if(S.setMouseDown(!1),t=!1,v.clearCodeEditorAutoScrollX(),v.clearCodeEditorAutoScrollY(),r||function(e){const t=new Event("TextDeselect");let n=L.getNumberLineWidth(),r=L.getLineNumber(),i=L.getCharNumber(),l=L.getLineHeight(),o=_.getElementsByClassName("code_editor_lines_container")[0];S.setTextSelectionInProgress(!1),B();let a=o.getBoundingClientRect(),s=e.clientX-a.left-n,c=e.clientY-a.top,d=L.getCharSize();r=parseInt(c/l)+1,i=parseInt(s/d),L.setCharNumber(i),L.setLineNumber(r);let g=_.getElementsByClassName("code_editor_cursor")[0],u=_.getElementsByClassName("text");u[r-1]||(r=u.length,L.setLineNumber(r));let p=u[r-1].innerText.length;"​"==u[r-1].innerText&&(p=0),i>p?(g.style.left=p*d+n+"px",i=p,L.setCharNumber(i)):i<0?(g.style.left=n+"px",i=0,L.setCharNumber(i)):g.style.left=i*d+n+"px",_.dispatchEvent(t),g.style.top=(r-1)*l+"px",_.querySelector("#code-editor-cursor-input").focus()}(e),r){let t=n.getBoundingClientRect(),r=e.clientX-t.left-s,d=e.clientY-t.top;l=parseInt(d/c)+1,o=parseInt(r/i);let g=_.getElementsByClassName("line");g[l-1].innerText.length<o&&(o=g[l-1].innerText.length),L.setLineNumber(l),L.setCharNumber(o),a={line:l,char:o},L.setLineEnd(a)}})),n.addEventListener("mousedown",(e=>{let t=S.getMouseDown(),r=S.getDrag(),i=L.getCharSize(),l=L.getLineNumber(),o=L.getCharNumber(),a=L.getLineStart(),s=L.getNumberLineWidth(),c=L.getLineHeight();S.setMouseDown(!0),S.setDrag(!1),t=!0,r=!1;let d=n.getBoundingClientRect(),g=e.clientX-d.left-s,u=e.clientY-d.top;l=parseInt(u/c)+1,o=parseInt(g/i),L.setLineNumber(l),L.setCharNumber(o),a={line:l,char:o},L.setLineStart(a)})),n.addEventListener("mousemove",(t=>{let r=S.getMouseDown(),i=S.getDrag(),l=L.getCharSize(),o=L.getLineNumber(),a=L.getCharNumber(),s=L.getLineEnd(),c=L.getNumberLineWidth(),d=L.getLineHeight();t.preventDefault(),v.clearCodeEditorAutoScrollX(),v.clearCodeEditorAutoScrollY(),r&&(S.setDrag(!0),i=!0,clearInterval(e),e=setTimeout((()=>{let e=n.getBoundingClientRect(),r=t.clientX-e.left-c,i=t.clientY-e.top;o=parseInt(i/d)+1,a=parseInt(r/l),L.setLineNumber(o),L.setCharNumber(a),s={line:o,char:a},L.setLineEnd(s),k()}),1))}));const r=_.getElementsByClassName("code_editor_sub")[0];r.addEventListener("scroll",(()=>{clearInterval(t),t=setTimeout((()=>{const e=_.getElementsByClassName("number_line_cont")[0];e.clientWidth!=r.scrollWidth&&(e.style.width=r.scrollWidth+"px"),n.clientWidth!=_.scrollWidth&&(n.style.width=r.scrollWidth+"px")}),500)})),_.addEventListener("lineChangetriggered",(()=>{_.getElementsByClassName("code_editor_stausbar_right_line")[0].querySelector("p").innerText=`Line: ${L.getLineNumber()}`})),_.addEventListener("charChangetriggered",(()=>{_.getElementsByClassName("code_editor_stausbar_right_char")[0].querySelector("p").innerText=`Column: ${L.getCharNumber()}`}))}(),function(){let e=_.querySelector("#code-editor-cursor-input");e.addEventListener("input",(e=>{!function(e){e.preventDefault();const t=new CustomEvent("InputTriggered",{detail:{data:e.data}});let n=_.querySelector("#code-editor-cursor-input"),r=S.getTextSelectionInProgress(),i=S.getDrag(),l=L.getCharNumber(),o=L.getLineNumber(),a=L.getCharSize(),s=L.getNumberLineWidth();if(r=!1,S.setTextSelectionInProgress(!1),i)e.data.length?(H(e.data),o=L.getLineNumber(),l=L.getCharNumber(),r=S.getTextSelectionInProgress(),n.dispatchEvent(t)):(H(""),o=L.getLineNumber(),l=L.getCharNumber(),r=S.getTextSelectionInProgress()),i=!1,S.setDrag(!1),e.target.value="";else{let r=_.getElementsByClassName("text")[o-1],i=r.innerText;if(e.data.length){if("​"==i){let t=document.createElement("pre");t.innerText=e.data,r.innerHTML="",r.appendChild(t)}else{let t=document.createElement("pre");t.innerText=`${i.slice(0,l)}${e.data}${i.slice(l)}`,console.log(t),r.innerHTML="",r.appendChild(t)}l+=1,L.setCharNumber(l),n.dispatchEvent(t)}let c=_.getElementsByClassName("code_editor_cursor")[0];l>r.innerText.length?c.style.left=r.innerText.length*a+s+"px":c.style.left=l*a+s+"px",e.target.value=""}w()}(e)})),e.addEventListener("blur",(()=>{_.getElementsByClassName("code_editor_cursor")[0].style.width="0px"})),e.addEventListener("focus",(()=>{_.getElementsByClassName("code_editor_cursor")[0].style.width="1px"})),e.addEventListener("keydown",(t=>{if("Enter"==t.key){!function(){let e=S.getDrag(),t=S.getTextSelectionInProgress(),n=L.getLineNumber(),r=L.getCharNumber(),i=L.getLineHeight(),l=L.getNumberLineWidth(),o=L.getLineStart(),a=L.getLineEnd();if(I(),t=!1,S.setTextSelectionInProgress(!1),e){let s=_.getElementsByClassName("line"),c=o.line>a.line||o.line==a.line&&o.char>a.char?a:o,d=o.line>a.line||o.line==a.line&&o.char>a.char?o:a;d.line>s.length&&(d.line=s.length),c.line<1&&(c.line=1);let g=_.getElementsByClassName("text")[c.line-1],u=g.innerText,p=_.getElementsByClassName("number_line_cont")[0],h=_.getElementsByClassName("number_line"),m=document.createElement("div");m.classList.add("number_line");let x=document.createElement("pre");x.innerText=h.length,m.append(x),p.appendChild(m),H(""),n=L.getLineNumber(),r=L.getCharNumber(),t=S.getTextSelectionInProgress();let f=document.createElement("div");f.classList.add("line");let b=document.createElement("div");b.classList.add("text");let y=document.createElement("pre");console.log(s[n-1],n),y.innerText=s[n-1].innerText.slice(r),b.append(y),f.append(b),_.getElementsByClassName("code_editor_lines_container")[0].insertBefore(f,s[n]),n+=1,L.setLineNumber(n);let E=_.getElementsByClassName("code_editor_cursor")[0];if(E.style.top=(n-1)*i+"px",E.style.left=l+"px",r=0,L.setCharNumber(r),u.slice(0,c.char)){let e=document.createElement("pre");e.innerText=u.slice(0,c.char),g.innerHTML="",g.appendChild(e)}else{let e=document.createElement("pre");e.innerHTML="&#8203;",g.innerHTML="",g.appendChild(e)}w(),e=!1,S.setDrag(!1)}else{let e=_.getElementsByClassName("text")[n-1],t=e.innerText;if(t.slice(0,r)){let n=document.createElement("pre");n.innerText=t.slice(0,r),e.innerHTML="",e.appendChild(n)}else{let t=document.createElement("pre");t.innerHTML="&#8203;",e.innerHTML="",e.appendChild(t)}let o=_.getElementsByClassName("number_line_cont")[0],a=_.getElementsByClassName("number_line"),s=document.createElement("div");s.classList.add("number_line");let c=document.createElement("pre");c.innerText=a.length,s.append(c),o.appendChild(s);let d=_.getElementsByClassName("line"),g=document.createElement("div");g.classList.add("line");let u=document.createElement("div");u.classList.add("text");let p=document.createElement("pre");p.innerText=r>t.length?"":t.slice(r),u.append(p),g.append(u),_.getElementsByClassName("code_editor_lines_container")[0].insertBefore(g,d[n]),n+=1,L.setLineNumber(n);let h=_.getElementsByClassName("code_editor_cursor")[0];h.style.top=(n-1)*i+"px",h.style.left=l+"px",r=0,L.setCharNumber(r),w()}}();const t=new CustomEvent("InputTriggered",{detail:{data:"Enter"}});e.dispatchEvent(t)}else if("Backspace"==t.key){!function(){let e=S.getDrag(),t=S.getTextSelectionInProgress(),n=L.getLineNumber(),r=L.getCharNumber(),i=L.getCharSize(),l=L.getLineHeight(),o=L.getNumberLineWidth();t=!1,S.setTextSelectionInProgress(!1);let a=_.getElementsByClassName("line");n>a.length&&(n=L.setLineNumber(a.length));let s=_.getElementsByClassName("text")[n-1],c=s.innerText;if(e)H(""),n=L.getLineNumber(),r=L.getCharNumber(),t=S.getTextSelectionInProgress(),e=!1,S.setDrag(!1);else if(0==r&&1!=n){I(),D(n),n=L.getLineNumber(),r=L.getCharNumber(),t=S.getTextSelectionInProgress(),n-=1,L.setLineNumber(n);let e=_.getElementsByClassName("code_editor_cursor")[0];s=_.getElementsByClassName("text")[n-1],e.style.top=(n-1)*l+"px",e.style.left=s.innerText.length*i+o+"px",r=s.innerText.length,L.setCharNumber(r);let a=document.createElement("pre");a.innerText=s.innerText.slice(0,s.innerText.length)+c,s.innerHTML="",s.appendChild(a)}else{if(0==r)return;let e=document.createElement("pre");e.innerText=c.slice(0,r-1)+c.slice(r),s.innerHTML="",s.appendChild(e),document.getElementsByClassName("code_editor_cursor")[0].style.left=(r-1)*i+o+"px",r-=1,L.setCharNumber(r)}w()}();const t=new CustomEvent("InputTriggered",{detail:{data:"BackSpace"}});e.dispatchEvent(t)}else if("Delete"==t.key){!function(){let e=S.getDrag(),t=S.getTextSelectionInProgress(),n=L.getLineNumber(),r=L.getCharNumber();t=!1,S.setTextSelectionInProgress(!1);let i=_.getElementsByClassName("line");n>i.length&&(n=L.setLineNumber(i.length));let l=_.getElementsByClassName("text")[n-1],o=l.innerText;if(e)H(""),n=L.getLineNumber(),r=L.getCharNumber(),console.log(r),t=S.getTextSelectionInProgress(),e=!1,S.setDrag(!1);else if(o.length&&r!=o.length||n==i.length){let e=document.createElement("pre");e.innerText=o.slice(0,r)+o.slice(r+1),l.innerHTML="",l.appendChild(e)}else{I();let e=i[n].innerText;D(n+1);let t=document.createElement("pre");t.innerText=o+e,l.innerHTML="",l.appendChild(t)}w()}();const t=new CustomEvent("InputTriggered",{detail:{data:"Delete"}});e.dispatchEvent(t)}else"ArrowUp"==t.key?t.shiftKey?(t.preventDefault(),function(){let e=_.getElementsByClassName("line"),t=S.getDrag(),n=S.getTextSelectionInProgress(),r=L.getLineNumber(),i=L.getCharNumber(),l=L.getCharSize(),o=L.getLineHeight(),a=L.getNumberLineWidth(),s=L.getLineEnd(),c=L.getLineStart();if(1!=r){let d=_.getElementsByClassName("code_editor_cursor")[0];d.style.top=(r-2)*o+"px",n?(s.line=s.line-1,L.setLineEnd(s)):(c=L.setLineStart({line:r,char:i}),s=L.setLineEnd({line:r-1,char:i}),n=S.setTextSelectionInProgress(!0)),r=L.setLineNumber(r-1),i>e[r-1].innerText.length&&("​"==e[r-1].innerText?(i=L.setCharNumber(0),s.char=0,L.setLineEnd(s),d.style.left=i*l+a+"px"):(i=L.setCharNumber(e[r-1].innerText.length),s.char=e[r-1].innerText.length,L.setLineEnd(s),d.style.left=i*l+a+"px")),t=S.setDrag(!0),w(),k()}}()):S.getSuggestionBoxDisplay()?M("up"):function(){const e=new Event("TextDeselect");B(),S.setDrag(!1);let t=_.getElementsByClassName("line"),n=S.getTextSelectionInProgress(),r=L.getLineNumber(),i=L.getCharNumber(),l=L.getCharSize(),o=L.getLineHeight(),a=L.getNumberLineWidth();if(1!=r){let e=_.getElementsByClassName("code_editor_cursor")[0];e.style.top=(r-2)*o+"px",r=L.setLineNumber(r-1),i>t[r-1].innerText.length&&("​"==t[r-1].innerText?(i=L.setCharNumber(0),e.style.left=i*l+a+"px"):(i=L.setCharNumber(t[r-1].innerText.length),e.style.left=i*l+a+"px"))}_.dispatchEvent(e),n=S.setTextSelectionInProgress(!1),w()}():"ArrowDown"==t.key?t.shiftKey?(t.preventDefault(),function(){let e=S.getDrag(),t=S.getTextSelectionInProgress(),n=L.getLineNumber(),r=L.getCharNumber(),i=L.getCharSize(),l=L.getLineHeight(),o=L.getNumberLineWidth(),a=L.getLineEnd(),s=L.getLineStart(),c=_.getElementsByClassName("line");if(n<_.getElementsByClassName("number_line").length-1){let d=_.getElementsByClassName("code_editor_cursor")[0];d.style.top=n*l+"px",t?(a.line=a.line+1,L.setLineEnd(a)):(s=L.setLineStart({line:n,char:r}),a=L.setLineEnd({line:n+1,char:r}),t=S.setTextSelectionInProgress(!0)),n<c.length&&r>c[n].innerText.length&&("​"==c[n].innerText?(r=L.setCharNumber(0),a.char=0,L.setLineEnd(a),d.style.left=r*i+o+"px"):(r=L.setCharNumber(c[n].innerText.length),a.char=c[n].innerText.length,L.setLineEnd(a),d.style.left=r*i+o+"px")),n=L.setLineNumber(n+1),e=S.setDrag(!0),w(),k()}}()):S.getSuggestionBoxDisplay()?M("down"):function(){const e=new Event("TextDeselect");B(),S.setDrag(!1);let t=S.getTextSelectionInProgress(),n=L.getLineNumber(),r=L.getCharNumber(),i=L.getCharSize(),l=L.getLineHeight(),o=L.getNumberLineWidth();t=S.setTextSelectionInProgress(!1);let a=_.getElementsByClassName("line");if(n<_.getElementsByClassName("number_line").length-1){let e=_.getElementsByClassName("code_editor_cursor")[0];e.style.top=n*l+"px",n<a.length&&r>a[n].innerText.length&&("​"==a[n-1].innerText?(r=L.setCharNumber(0),e.style.left=r*i+o+"px"):(r=L.setCharNumber(a[n].innerText.length),e.style.left=r*i+o+"px")),n=L.setLineNumber(n+1)}_.dispatchEvent(e),w()}():"ArrowLeft"==t.key?t.shiftKey?function(){let e=S.getDrag(),t=S.getTextSelectionInProgress(),n=L.getLineNumber(),r=L.getCharNumber(),i=L.getCharSize(),l=L.getLineHeight(),o=L.getNumberLineWidth(),a=L.getLineEnd(),s=L.getLineStart(),c=_.getElementsByClassName("line"),d=_.getElementsByClassName("code_editor_cursor")[0];t||(s=L.setLineStart({line:n,char:r}),a=L.setLineEnd({line:n,char:r}),t=S.setTextSelectionInProgress(!0)),r>0?(r=L.setCharNumber(r-1),a.char=r,L.setLineEnd(a),d.style.left=(r-1)*i+o+"px"):0==r&&1!=n&&("​"==c[n-2].innerText?(r=L.setCharNumber(0),a.char=1,L.setLineEnd(a)):(r=L.setCharNumber(c[n-2].innerText.length),a.char=c[n-2].innerText.length,L.setLineEnd(a)),n=L.setLineNumber(n-1),a.line=a.line-1,L.setLineEnd(a),d.style.left=r*i+o+"px",d.style.top=n*l+"px"),e=S.setDrag(!0),w(),k()}():function(){const e=new Event("TextDeselect");let t=S.getTextSelectionInProgress(),n=L.getLineNumber(),r=L.getCharNumber(),i=L.getCharSize(),l=L.getLineHeight(),o=L.getNumberLineWidth();console.log(r),B(),S.setDrag(!1),t=S.setTextSelectionInProgress(!1);let a=_.getElementsByClassName("line"),s=_.getElementsByClassName("code_editor_cursor")[0];r>0?(r=L.setCharNumber(r-1),s.style.left=r*i+o+"px"):0==r&&1!=n&&(r="​"==a[n-2].innerText?L.setCharNumber(0):L.setCharNumber(a[n-2].innerText.length),n=L.setLineNumber(n-1),s.style.left=r*i+o+"px",s.style.top=(n-1)*l+"px"),_.dispatchEvent(e),w()}():"ArrowRight"==t.key?t.shiftKey?function(){let e=S.getDrag(),t=S.getTextSelectionInProgress(),n=L.getLineNumber(),r=L.getCharNumber(),i=L.getCharSize(),l=L.getLineHeight(),o=L.getNumberLineWidth(),a=L.getLineEnd(),s=L.getLineStart(),c=_.getElementsByClassName("line"),d=_.getElementsByClassName("code_editor_cursor")[0];r<c[n-1].innerText.length?(t||(s=L.setLineStart({line:n,char:r}),a=L.setLineEnd({line:n,char:r}),t=S.setTextSelectionInProgress(!0)),"​"==c[n-1].innerText&&n!=c.length?(r=L.setCharNumber(0),n=L.setLineNumber(n+1),a.line=a.line+1,a.char=1,L.setLineEnd(a),d.style.left=r*i+o+"px",d.style.top=n*l+"px"):(r=L.setCharNumber(r+1),a.char=a.char+1,L.setLineEnd(a),d.style.left=r*i+o+"px")):r==c[n-1].innerText.length&&n!=c.length&&(r=L.setCharNumber(0),n=L.setLineNumber(n+1),a.char=1,a.line=a.line+1,L.setLineEnd(a),d.style.left=r*i+o+"px",d.style.top=n*l+"px"),e=S.setDrag(!0),w(),k()}():function(){const e=new Event("TextDeselect");let t=S.getTextSelectionInProgress(),n=L.getLineNumber(),r=L.getCharNumber(),i=L.getCharSize(),l=L.getLineHeight(),o=L.getNumberLineWidth();console.log(r),B(),S.setDrag(!1),t=S.setTextSelectionInProgress(!1);let a=_.getElementsByClassName("line"),s=_.getElementsByClassName("code_editor_cursor")[0];r<a[n-1].innerText.length?"​"==a[n-1].innerText&&n!=a.length?(r=L.setCharNumber(0),n=L.setLineNumber(n+1),s.style.left=r*i+o+"px",s.style.top=n*l+"px"):(r=L.setCharNumber(r+1),s.style.left=r*i+o+"px"):r==a[n-1].innerText.length&&n!=a.length&&(r=L.setCharNumber(0),n=L.setLineNumber(n+1),s.style.left=r*i+o+"px",s.style.top=(n-1)*l+"px"),_.dispatchEvent(e),w()}():"c"==t.key||"C"==t.key?t.ctrlKey&&(t.preventDefault(),async function(){let e=_.getElementsByClassName("background_selected_text"),t="";for(let n=0;n<e.length;n++)"​"==e[n].innerText?t+="\n":t+=e[n].innerText+"\n";await navigator.clipboard.writeText(t)}()):"v"==t.key||"V"==t.key?t.ctrlKey&&(t.preventDefault(),async function(){const e=new Event("pasteText");S.getDrag();let t=S.getTextSelectionInProgress(),n=L.getLineNumber(),r=L.getCharNumber(),i=L.getCharSize(),l=L.getLineHeight(),o=L.getNumberLineWidth();L.getLineEnd(),L.getLineStart(),I(),t=S.setTextSelectionInProgress(!1);let a=_.getElementsByClassName("line"),s=_.getElementsByClassName("background_selected_text"),c=_.getElementsByClassName("code_editor_cursor")[0];s.length&&(H(""),n=L.getLineNumber(),r=L.getCharNumber(),t=S.getTextSelectionInProgress());let d=(await navigator.clipboard.readText()).split("\n");if(d.length){if(1==d.length){if("\n"==d[0])return;let e=a[n-1].innerText.slice(0,r),t=a[n-1].innerText.slice(r,a[n-1].innerText.length),l=document.createElement("pre");l.innerText=e+d[0].replaceAll("\r","")+t,a[n-1].childNodes[0].innerHTML="",a[n-1].childNodes[0].appendChild(l),r=L.setCharNumber(e.length+d[0].length),c.style.left=r*i+o+"px"}else{"\n"!=d[d.length]&&""!=d[d.length]||d.pop();let e=a[n-1].innerText.slice(0,r),t=a[n-1].innerText.slice(r,a[n-1].innerText.length),s=document.createElement("pre");s.innerText=e+d[0].replaceAll("\r",""),a[n-1].childNodes[0].innerHTML="",a[n-1].childNodes[0].appendChild(s);let c=_.getElementsByClassName("number_line_cont")[0],g=_.getElementsByClassName("number_line"),u=_.getElementsByClassName("code_editor_lines_container")[0];for(let e=1;e<d.length-1;e++){let t=document.createElement("div");t.classList.add("number_line");let r=document.createElement("pre");r.innerText=g.length,t.append(r),c.appendChild(t);let i=document.createElement("div");i.classList.add("line");let l=document.createElement("div");l.classList.add("text");let o=document.createElement("pre");o.innerText=d[e].replaceAll("\r",""),l.append(o),i.append(l),u.insertBefore(i,a[n]),n=L.setLineNumber(n+1)}let p=document.createElement("div");p.classList.add("number_line");let h=document.createElement("pre");h.innerText=g.length,p.append(h),c.appendChild(p);let m=document.createElement("div");m.classList.add("line");let x=document.createElement("div");x.classList.add("text");let f=document.createElement("pre");f.innerText=d[d.length-1].replaceAll("\r","")+t,x.append(f),m.append(x),u.insertBefore(m,a[n]),n=L.setLineNumber(n+1);let b=_.getElementsByClassName("code_editor_cursor")[0];r=L.setCharNumber(d[d.length-1].length),b.style.left=r*i+o+"px",b.style.top=(n-1)*l+"px"}_.dispatchEvent(e),w()}}()):"z"==t.key||"Z"==t.key?t.ctrlKey&&(t.preventDefault(),function(){let e=S.getTextSelectionInProgress(),t=L.getLineNumber(),n=L.getCharNumber(),r=L.getCharSize(),i=L.getLineHeight(),l=L.getLineEnd(),o=L.getLineStart(),a=T.getUndoStore();e=S.setTextSelectionInProgress(!1);let s=_.getElementsByClassName("code_editor_lines_container")[0],c=_.getElementsByClassName("number_line_cont")[0];if(a.length){if(T.pushIntoRedoStore({lineNumber:t,charNumber:n,lineEnd:l,lineStart:o,data:s.innerHTML,numberLineData:c.innerHTML}),a.length){t=L.setLineNumber(a[a.length-1].lineNumber),n=L.setCharNumber(a[a.length-1].charNumber),l=L.setLineEnd(a[a.length-1].lineEnd),o=L.setLineStart(a[a.length-1].lineStart),s.innerHTML=a[a.length-1].data,c.innerHTML=a[a.length-1].numberLineData;let e=_.getElementsByClassName("code_editor_cursor")[0];e.style.left=n*r+35+"px",e.style.top=(t-1)*i+"px"}T.popFromUndoStore(),w()}}()):"y"==t.key||"Y"==t.key?t.ctrlKey&&(t.preventDefault(),function(){let e=S.getTextSelectionInProgress(),t=L.getLineNumber(),n=L.getCharNumber(),r=L.getCharSize(),i=L.getLineHeight(),l=L.getLineEnd(),o=L.getLineStart(),a=T.getRedoStore();e=S.setTextSelectionInProgress(!1);let s=_.getElementsByClassName("code_editor_lines_container")[0],c=_.getElementsByClassName("number_line_cont")[0];if(a.length){if(T.pushIntoUndoStore({lineNumber:t,charNumber:n,lineEnd:l,lineStart:o,data:s.innerHTML,numberLineData:c.innerHTML}),a.length){t=L.setLineNumber(a[a.length-1].lineNumber),n=L.setCharNumber(a[a.length-1].charNumber),l=L.setLineEnd(a[a.length-1].lineEnd),o=L.setLineStart(a[a.length-1].lineStart),s.innerHTML=a[a.length-1].data,c.innerHTML=a[a.length-1].numberLineData;let e=_.getElementsByClassName("code_editor_cursor")[0];e.style.left=n*r+35+"px",e.style.top=(t-1)*i+"px"}T.popFromRedoStore(),w()}}()):"a"!=t.key&&"A"!=t.key||t.ctrlKey&&(t.preventDefault(),function(){let e=S.getDrag(),t=L.getLineEnd(),n=L.getLineStart(),r=_.getElementsByClassName("line");for(let e=0;e<r.length;e++)r[e].childNodes[0].childNodes[0].classList.add("background_selected_text");n=L.setLineStart({line:1,char:0}),t=L.setLineEnd({line:r.length,char:r[r.length-1].innerText.length}),e=S.setDrag(!0)}())}))}()}setupInitialDomData(){let e=this.codeEditor.getCodeEditor(),t=e.getElementsByClassName("code_editor_line_measure")[0].childNodes[0];this.dataVariables.setCharSize(t.clientWidth/40);let n=e.getElementsByClassName("line")[0].getBoundingClientRect(),r=n.top-n.bottom;this.dataVariables.setLineHeight(Math.abs(r)),function(){let e=!0;setInterval((()=>{_.getElementsByClassName("code_editor_cursor_blink")[0].style.visibility=e?"hidden":"visible",e=!e}),500)}(),this.conditionalVariables,this.intervalVariables,this.dataVariables,window.addEventListener("mouseup",(e=>{S.setMouseDown(!1),v.clearCodeEditorAutoScrollX(),v.clearCodeEditorAutoScrollY()})),window.onload=()=>{_.querySelector("#code-editor-cursor-input").focus()},window.addEventListener("mousemove",(e=>{let t=L.getCharSize(),n=L.getLineEnd(),r=S.getMouseDown(),i=S.getDrag();if(_.getElementsByClassName("code_editor_sub"),r&&i){console.log(_.offsetTop+_.clientHeight);let r=_.offsetTop,i=_.offsetTop+_.clientHeight-L.getLineHeight(),l=_.offsetLeft,o=_.offsetLeft+_.clientWidth,a=_.getElementsByClassName("line");e.clientX>o&&(v.clearCodeEditorAutoScrollX(),v.clearCodeEditorAutoScrollY(),v.setCodeEditorAutoScrollX(setInterval((()=>{let e=Math.floor(10/t);n.char<=a[n.line-1].innerText.length&&(n.char=n.char+e,L.setLineEnd(n),k())}),10))),e.clientX<l&&(v.clearCodeEditorAutoScrollX(),v.clearCodeEditorAutoScrollY(),v.setCodeEditorAutoScrollX(setInterval((()=>{let e=Math.floor(10/t);n.char>=0&&(n.char=n.char-e,L.setLineEnd(n),k())}),10))),e.clientY>i&&(v.clearCodeEditorAutoScrollX(),v.clearCodeEditorAutoScrollY(),v.setCodeEditorAutoScrollY(setInterval((()=>{n.line<=a.length&&(n.line=n.line+1,L.setLineEnd(n),k())}),100))),e.clientY<r&&(v.clearCodeEditorAutoScrollX(),v.clearCodeEditorAutoScrollY(),v.setCodeEditorAutoScrollY(setInterval((()=>{n.line>1&&(n.line=n.line-1,L.setLineEnd(n),k())}),100)))}})),console.log(e.clientHeight-18.2),e.getElementsByClassName("code_editor_sub")[0].style.height=e.clientHeight-18.2+"px"}setCode(e){this.codeEditor.getCodeEditor(),async function(e){let t=S.getTextSelectionInProgress(),n=L.getLineNumber(),r=L.getCharNumber(),i=L.getCharSize(),l=L.getLineHeight(),o=L.getNumberLineWidth();t=S.setTextSelectionInProgress(!1);let a=_.getElementsByClassName("line"),s=_.getElementsByClassName("code_editor_cursor")[0],c=e.split("\n");if(c.length){if(1==c.length){if("\n"==c[0])return;let e=a[n-1].innerText.slice(0,r),t=a[n-1].innerText.slice(r,a[n-1].innerText.length),l=document.createElement("pre");l.innerText=e+c[0].replaceAll("\r","")+t,a[n-1].childNodes[0].innerHTML="",a[n-1].childNodes[0].appendChild(l),r=L.setCharNumber(e.length+c[0].length),s.style.left=r*i+o+"px"}else{"\n"!=c[c.length]&&""!=c[c.length]||c.pop();let e=a[n-1].innerText.slice(0,r),t=a[n-1].innerText.slice(r,a[n-1].innerText.length),s=document.createElement("pre");s.innerText=e+c[0].replaceAll("\r",""),a[n-1].childNodes[0].innerHTML="",a[n-1].childNodes[0].appendChild(s);let d=_.getElementsByClassName("number_line_cont")[0],g=_.getElementsByClassName("number_line"),u=_.getElementsByClassName("code_editor_lines_container")[0];for(let e=1;e<c.length-1;e++){let t=document.createElement("div");t.classList.add("number_line");let r=document.createElement("pre");r.innerText=g.length,t.append(r),d.appendChild(t);let i=document.createElement("div");i.classList.add("line");let l=document.createElement("div");l.classList.add("text");let o=document.createElement("pre");o.innerText=c[e].replaceAll("\r",""),l.append(o),i.append(l),u.insertBefore(i,a[n]),n=L.setLineNumber(n+1)}let p=document.createElement("div");p.classList.add("number_line");let h=document.createElement("pre");h.innerText=g.length,p.append(h),d.appendChild(p);let m=document.createElement("div");m.classList.add("line");let x=document.createElement("div");x.classList.add("text");let f=document.createElement("pre");f.innerText=c[c.length-1].replaceAll("\r","")+t,x.append(f),m.append(x),u.insertBefore(m,a[n]),n=L.setLineNumber(n+1);let b=_.getElementsByClassName("code_editor_cursor")[0];r=L.setCharNumber(c[c.length-1].length),b.style.left=r*i+o+"px",b.style.top=(n-1)*l+"px"}w()}}(e,this.dataVariables,this.conditionalVariables,this.arrayVariables)}getCode(){return this.codeEditor.getCodeEditor(),function(){let e=_.getElementsByClassName("line"),t="";for(let n=0;n<e.length;n++)"​"==e[n].innerText?t+="\n":t+=e[n].innerText+"\n";return t}()}}let A,j,z,W="",F=0,O=[],Y=0;function X(e,t,n){let r=A.getElementsByClassName("line"),i=r[t-1].innerText.replaceAll(" ","");"-"==i[0]&&(i=i.slice(1,i.length));let l=i.split(":");if(n[l[0]])if("data"==n[l[0]].type.toLowerCase()){let i=r[F-1].innerText,o=r[t-1].innerText,a=0,s=0,c=i.length;for(;c--;)a++;for(c=o.length;c--;)s++;l<=1&&s<a?W=n[l[0]]:t>1&&X(e,t-1,n)}else W=n[l[0]];else t>1?X(e,t-1,n):W=void 0;return W}function R(e,t){let n="";if(t[e]){if(W=t[e],W.type=W.type.toLowerCase(),W.category=W.category.toLowerCase(),C[W.type]){let e=C[W.type];if(n="data"==W.type?e.name:e.color,e.categories[W.category]){let t=e.categories[W.category];n="data"==W.type?t.name:t.color}}}else if(W){if(W.type=W.type.toLowerCase(),W.category=W.category.toLowerCase(),C[W.type]){let e=C[W.type];if(n="data"==W.type?e.value:e.args?e.args.value:n,e.categories[W.category]){let t=e.categories[W.category];n="data"==W.type?t.value:t.args?t.args.value:n}}}else if(W=X(e,F,t),W){let t=A.getElementsByClassName("line")[F-1].innerText.replaceAll(" ","");"-"==t[0]&&(t=t.slice(1,t.length));let r=t.split(":");if(1==r.length){if(W.type=W.type.toLowerCase(),W.category=W.category.toLowerCase(),C[W.type]){let e=C[W.type];if(n="data"==W.type?e.value:e.args?e.args.value:n,e.categories[W.category]){let t=e.categories[W.category];n="data"==W.type?t.value:t.args?t.args.value:n}}}else if(e==r[0]){if(W.type=W.type.toLowerCase(),W.category=W.category.toLowerCase(),C[W.type]){let e=C[W.type];if(n="data"==W.type?e.name:e.args?e.args.name:n,e.categories[W.category]){let t=e.categories[W.category];n="data"==W.type?t.name:t.args?t.args.name:n}}}else if(W.type=W.type.toLowerCase(),W.category=W.category.toLowerCase(),C[W.type]){let e=C[W.type];if(n="data"==W.type?e.value:e.args?e.args.value:n,e.categories[W.category]){let t=e.categories[W.category];n="data"==W.type?t.value:t.args?t.args.value:n}}}return n||"#000000"}function U(e,t,n,r){if(!e)return n?(Y=O[Y]?Y+1:Y,O[Y]={text:":",addColon:!1,span:!0,color:"#000000",addSpace:r}):(Y=O[Y]?Y+1:Y,O[Y]={text:"",addColon:!1,span:!0,color:"#000000",addSpace:r}),n?":":"";if("-"==e[0])e=e.slice(1,e.length),Y=O[Y]?Y+1:Y,O[Y]={text:"-",addColon:!1,span:!0,color:"#000000",addSpace:!1},e="-"+U(e,t,!1,!0);else{let i=e.split(":");if(e="",i[1]||i.length>2){let n=0;for(;n<i.length-1;)e+=U(i[n],t,!0,!1),n+=1;e+=U(i[i.length-1],t,!1,!0)}else{let l=R(i[0],t);Y=O[Y]?Y+1:Y,i.length>1||n?(O[Y]={text:i[0],addColon:!0,span:!0,color:l,addSpace:r},e=`<span style="color:${l} ;">${i[0]}</span>:`):(O[Y]={text:i[0],addColon:!1,span:!0,color:l,addSpace:r},e=`<span style="color:${l} ;">${i[0]}</span>`)}}return e}function V(e,t){let n=e[F-1].innerText.split(" "),r="";O=[],Y=0;for(let e=0;e<n.length;e++){let i=n[e];if(i&&"-"!=i&&":"!=i)r+=U(i,t,!1,!0)+" ";else if("-"==i)O[Y]&&O[Y].span&&(Y+=1),O[Y]&&O[Y].addSpace&&(O[Y].text+=" "),O[Y]={text:O[Y]&&O[Y].text?O[Y].text+"-":"-",addColon:!1,span:!1,color:"#000000",addSpace:!0},r+="- ";else if(":"==i)O[Y]&&O[Y].span&&(Y+=1),O[Y]&&O[Y].addSpace&&(O[Y].text+=" "),O[Y]={text:O[Y]&&O[Y].text?O[Y].text+":":":",addColon:!1,span:!1,color:"#000000",addSpace:!0},r+=": ";else{if(O[Y]&&O[Y].span)Y+=1,O[Y-1]&&n.length-1==e&&(O[Y-1].addSpace=!1);else if(O[Y]&&!O[Y].span&&n.length-1==e)continue;O[Y]={text:O[Y]&&O[Y].text?O[Y].text+" ":" ",addColon:!1,span:!1,color:"#000000",addSpace:!1},r+=" "}}r=r.slice(0,r.length-1),O[O.length-1].addSpace=!1,e[F-1].getElementsByTagName("pre")[0].innerHTML="";for(let t=0;t<O.length;t++){let n=O[t];if(n.span)if(n.addColon){let r=document.createElement("span");if(r.style=`color:${n.color} ;`,r.innerText=n.text,e[F-1].getElementsByTagName("pre")[0].appendChild(r),t==O.length-1){let t=document.createElement("span");t.innerText=":",e[F-1].getElementsByTagName("pre")[0].appendChild(t)}else if(n.addSpace){let t=document.createElement("span");t.innerText=": ",e[F-1].getElementsByTagName("pre")[0].appendChild(t)}else{let t=document.createElement("span");t.innerText=":",e[F-1].getElementsByTagName("pre")[0].appendChild(t)}}else{let t=document.createElement("span");if(t.style=`color:${n.color} ;`,t.innerText=n.text,e[F-1].getElementsByTagName("pre")[0].appendChild(t),n.addSpace){let t=document.createElement("span");t.innerText=" ",e[F-1].getElementsByTagName("pre")[0].appendChild(t)}}else if(t!=O.length-1)if(n.addSpace){let t=document.createElement("span");t.innerText=n.text+" ",e[F-1].getElementsByTagName("pre")[0].appendChild(t)}else{let t=document.createElement("span");t.innerText=n.text,e[F-1].getElementsByTagName("pre")[0].appendChild(t)}else if(n.addSpace){let t=document.createElement("span");t.style=`color:${n.color} ;`,t.innerText=n.text+" ",e[F-1].getElementsByTagName("pre")[0].appendChild(t)}else{let t=document.createElement("span");t.style=`color:${n.color} ;`,t.innerText=n.text,e[F-1].getElementsByTagName("pre")[0].appendChild(t)}}}function $(e,t,n){C=n.colorConfig,W="",A=_,F=L.getLineNumber(),j=S||void 0,z=L;let r=_.getElementsByClassName("line");if("Space"==e||"BackSpace"==e||"Delete"==e||"Input"==e||"TextSelection"==e){if(V(r,t),j&&j.getDrag()){let e=z.getLineEnd();e.line&&r[e.line-1].innerText.slice(e.char,r[e.line-1].innerText.length)}}else"Enter"==e&&(F-=1,V(r,t),F+=1,V(r,t))}function q(e,t){C=t.colorConfig,A=_,F=1;let n=_.getElementsByClassName("line");for(;n.length>=F;)W="",V(n,e),F+=1}class G{constructor(e,t){this._specificationSnapshot={"move-forward":{label:"forward",type:"Statement",category:"Graphics",prototypeName:"ElementMoveForward",args:[["steps",["number"]]]},"move-backward":{label:"backward",type:"Statement",category:"Graphics",prototypeName:"ElementMoveBackward",args:[["steps",["number"]]]},"turn-left":{label:"left",type:"Statement",category:"Graphics",prototypeName:"ElementTurnLeft",args:[["angle",["number"]]]},"turn-right":{label:"right",type:"Statement",category:"Graphics",prototypeName:"ElementTurnRight",args:[["angle",["number"]]]},"set-xy":{label:"set xy",type:"Statement",category:"Graphics",prototypeName:"ElementSetXY",args:[["x",["number"]],["y",["number"]]]},"set-heading":{label:"set heading",type:"Statement",category:"Graphics",prototypeName:"ElementSetHeading",args:[["angle",["number"]]]},"draw-arc":{label:"draw arc",type:"Statement",category:"Graphics",prototypeName:"ElementDrawArc",args:[["radius",["number"]],["angle",["number"]]]},"set-color":{label:"set color",type:"Statement",category:"Pen",prototypeName:"ElementSetColor",args:[["value",["number"]]]},"set-thickness":{label:"set thickness",type:"Statement",category:"Pen",prototypeName:"ElementSetThickness",args:[["value",["number"]]]},"pen-up":{label:"pen up",type:"Statement",category:"Pen",prototypeName:"ElementPenUp",args:null},"pen-down":{label:"pen down",type:"Statement",category:"Pen",prototypeName:"ElementPenDown",args:null},"set-background":{label:"set background",type:"Statement",category:"Pen",prototypeName:"ElementSetBackground",args:[["value",["number"]]]},clear:{label:"clear",type:"Statement",category:"Pen",prototypeName:"ElementClear",args:null},"value-boolean":{label:"true",type:"Data",category:"value",prototypeName:"ElementValueBoolean",values:{types:["boolean"]},args:null},"value-number":{label:"0",type:"Data",category:"value",prototypeName:"ElementValueNumber",values:{types:["number"]},args:null},"value-string":{label:"string",type:"Data",category:"value",prototypeName:"ElementValueString",args:null},"box-generic":{label:"Box",type:"Statement",category:"box",prototypeName:"ElementBoxGeneric",args:[["name",["string"]],["value",["boolean","number","string"]]]},"box-boolean":{label:"Box (boolean)",type:"Statement",category:"box",prototypeName:"ElementBoxBoolean",args:[["name",["string"]],["value",["boolean"]]]},"box-number":{label:"Box (number)",type:"Statement",category:"box",prototypeName:"ElementBoxNumber",args:[["name",["string"]],["value",["number"]]]},"box-string":{label:"Box (string)",type:"Statement",category:"box",prototypeName:"ElementBoxString",args:[["name",["string"]],["value",["string"]]]},"boxidentifier-generic":{label:"Box 1",type:"Data",category:"boxidentifier",prototypeName:"ElementBoxIdentifierGeneric",args:null},"boxidentifier-boolean":{label:"Box 1",type:"Data",category:"boxidentifier",prototypeName:"ElementBoxIdentifierBoolean",args:null},"boxidentifier-number":{label:"Box 1",type:"Data",category:"boxidentifier",prototypeName:"ElementBoxIdentifierNumber",args:null},"boxidentifier-string":{label:"Box 1",type:"Data",category:"boxidentifier",prototypeName:"ElementBoxIdentifierString",args:null},"operator-math-plus":{label:"+",type:"Expression",category:"operator-math",prototypeName:"ElementOperatorMathPlus",args:[["operand1",["number","string"]],["operand2",["number","string"]]]},"operator-math-minus":{label:"-",type:"Expression",category:"operator-math",prototypeName:"ElementOperatorMathMinus",args:[["operand1",["number"]],["operand2",["number"]]]},"operator-math-times":{label:"×",type:"Expression",category:"operator-math",prototypeName:"ElementOperatorMathTimes",args:[["operand1",["number"]],["operand2",["number"]]]},"operator-math-divide":{label:"÷",type:"Expression",category:"operator-math",prototypeName:"ElementOperatorMathDivide",args:[["operand1",["number"]],["operand2",["number"]]]},"operator-math-modulus":{label:"%",type:"Expression",category:"operator-math",prototypeName:"ElementOperatorMathModulus",args:[["operand1",["number"]],["operand2",["number"]]]},repeat:{label:"repeat",type:"Block",category:"loop",prototypeName:"ElementRepeat",args:[["times",["number"]]]},if:{label:"if",type:"Block",category:"loop",prototypeName:"ElementIf",args:[["condition",["boolean"]]]},process:{label:"start",type:"Block",category:"program",prototypeName:"ElementProcess",allowAbove:!1,allowBelow:!1,args:null},routine:{label:"action",type:"Block",category:"program",prototypeName:"ElementRoutine",allowAbove:!1,allowBelow:!1,args:[["name",["string"]]]},print:{label:"print",type:"Statement",category:"print",prototypeName:"ElementPrint",args:[["value",["boolean","number","string"]]]}},this.syntaxColorConfigObj=e}initializeSupport(){var e,t;e=this._specificationSnapshot,t=this.syntaxColorConfigObj,_.querySelector("#code-editor-cursor-input").addEventListener("InputTriggered",(n=>{" "==n.detail.data?$("Space",e,t):"Enter"==n.detail.data?$("Enter",e,t):"BackSpace"==n.detail.data?$("BackSpace",e,t):"Delete"==n.detail.data?$("Delete",e,t):n.detail.data&&$("Input",e,t)})),function(e,t){_.addEventListener("TextSelection",(n=>{$("TextSelection",e,t)})),_.addEventListener("TextDeselect",(n=>{q(e,t)}))}(this._specificationSnapshot,this.syntaxColorConfigObj)}runSyntaxHighlighterOnAllLinesAPI(){q(this._specificationSnapshot,this.syntaxColorConfigObj)}}function K(e,t){let n={};for(let r in e)t[r]?"object"==typeof t[r]?n[r]=K(e[r],t[r]):n[r]=t[r]:n[r]=e[r];return n}class Z{constructor(){this.colorConfig={block:{categories:{loop:{color:"#CD2BD5"},program:{args:{name:"#473FDF",value:"#00A6FF"},color:"#473FDF"}},args:{name:"#00CDFF",value:"#474747"},color:"#D5FF04"},statement:{categories:{pen:{color:"red",args:{name:"green",value:"blue"}}},args:{name:"#00CDFF",value:"#474747"},color:"#0097FF"},data:{categories:{boxidentifier:{name:"#0441FF",value:"#474747"}},name:"#0441FF",value:"#474747"},expression:{categories:{},args:{name:"#00CDFF",value:"#474747"},color:"#0441FF"}}}getConfig(){return this.colorConfig}resetConfig(e){return this.colorConfig=e,this.colorConfig}setConfig(e){return K(this.colorConfig,e)}}class J{constructor(e,t){this.codeEditorCont=e,this.codeEditorNodeObject=new P,this.syntaxColorConfigObj=new Z,this.musicBlocksv4Support=new G(this.syntaxColorConfigObj,t)}createCodeEditorDom(){const e=this.codeEditorNodeObject.generateCodeEditorDOM();this.codeEditorCont.appendChild(e),this.codeEditorNodeObject.setupInitialDomData(),this.musicBlocksv4Support.initializeSupport()}setCode(e){this.codeEditorNodeObject.setCode(e),this.musicBlocksv4Support.runSyntaxHighlighterOnAllLinesAPI()}getCode(){return this.codeEditorNodeObject.getCode()}setSyntaxColorConfig(e){return this.syntaxColorConfigObj.setConfig(e)}resetSyntaxColorConfig(e){return this.syntaxColorConfigObj.resetConfig(e)}}})(),r})()));